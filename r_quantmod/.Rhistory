### Install necessary packages
inst_ini_package <- function(){
list.of.packages <- c("lubridate","quantmod", "tidyquant")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
library("quantmod")
library("lubridate")
}
### Define path and other variables
def_var <- function() {
xf <- "C:\\xampp\\htdocs\\_smartalpha\\sa_data_collection\\r_quantmod\\src\\"
db_usr <- "sa_db_user"
db_pwd <- "9XHWVxTH9ZJnshvN"
qm_src <- "yahoo"
yx <- year(now())
dfrom <- paste(yx,"-01-01",sep = "")
}
collect_data <- function() {
### Define data to collect
symbol <- "^AEX"
dataframe <- as.data.frame(getSymbols(symbol, src = qm_src, from = dfrom, env = NULL))
### Set columns name
colnames(dataframe)[1] <- "open"
colnames(dataframe)[2] <- "high"
colnames(dataframe)[3] <- "low"
colnames(dataframe)[4] <- "close"
colnames(dataframe)[5] <- "volume"
colnames(dataframe)[6] <- "adjusted"
### Export content to CSV ###
fn <- paste(symbol,".csv", sep = "")
f <- paste(xf,fn, sep = "")
write.csv(dataframe, file = f)
}
inst_ini_package()
def_var()
collect_data()
### Install necessary packages
inst_ini_package <- function(){
list.of.packages <- c("lubridate","quantmod", "tidyquant")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
library("quantmod")
library("lubridate")
}
collect_data <- function() {
### Define path and other variables
xf <- "C:\\xampp\\htdocs\\_smartalpha\\sa_data_collection\\r_quantmod\\src\\"
db_usr <- "sa_db_user"
db_pwd <- "9XHWVxTH9ZJnshvN"
qm_src <- "yahoo"
yx <- year(now())
dfrom <- paste(yx,"-01-01",sep = "")
### Define data to collect
symbol <- "^AEX"
dataframe <- as.data.frame(getSymbols(symbol, src = qm_src, from = dfrom, env = NULL))
### Set columns name
colnames(dataframe)[1] <- "open"
colnames(dataframe)[2] <- "high"
colnames(dataframe)[3] <- "low"
colnames(dataframe)[4] <- "close"
colnames(dataframe)[5] <- "volume"
colnames(dataframe)[6] <- "adjusted"
### Export content to CSV ###
fn <- paste(symbol,".csv", sep = "")
f <- paste(xf,fn, sep = "")
write.csv(dataframe, file = f)
}
inst_ini_package()
collect_data()
### Install necessary packages
inst_ini_package <- function(){
list.of.packages <- c("lubridate","quantmod", "tidyquant")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
library("quantmod")
library("lubridate")
}
collect_data <- function() {
### Define path and other variables
xf <- "C:\\xampp\\htdocs\\_smartalpha\\sa_data_collection\\r_quantmod\\src\\"
db_usr <- "sa_db_user"
db_pwd <- "9XHWVxTH9ZJnshvN"
qm_src <- "yahoo"
yx <- year(now())
dfrom <- paste(yx,"-01-01",sep = "")
### Define data to collect
symbol <- "^AEX"
dataframe <- as.data.frame(getSymbols(symbol, src = qm_src, from = dfrom, env = NULL))
### Set columns name
colnames(dataframe)[1] <- "open"
colnames(dataframe)[2] <- "high"
colnames(dataframe)[3] <- "low"
colnames(dataframe)[4] <- "close"
colnames(dataframe)[5] <- "volume"
colnames(dataframe)[6] <- "adjusted"
### Export content to CSV ###
fn <- paste(symbol,".csv", sep = "")
f <- paste(xf,fn, sep = "")
write.csv(dataframe, file = f)
}
inst_ini_package()
collect_data()
